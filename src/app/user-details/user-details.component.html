<div class='container'>
  <div class='row marginTop'>
    <div class='pull-left'>
      <h3>User Transaction Details</h3>
    </div>
    <div class='pull-right'>
      <button (click)='createNewUser()' class="btn btn-primary" data-toggle="modal" data-target="#myModal">
        <i class="fa fa-plus "></i> Create User</button>
    </div>
  </div>
  <div class="table-responsive ">
    <table class="table table-bordered table-condensed table-striped table-hover">
      <thead>
        <tr>
          <th class='col-md-1'>Id</th>
          <th class='col-md-2'>Name</th>
          <th class='col-md-1'>Amount</th>
          <th class='col-md-1'>Currency</th>
          <th class='col-md-1'>Txn_Date</th>
          <th class='col-md-1'></th>
          <th class='col-md-1'></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of users">
          <td>{{data.id}}</td>
          <td>{{data.user}}</td>
          <td>{{data.amount}}</td>
          <td>{{data.currency}}</td>
          <td>{{data.txn_date}}</td>
          <td (click)='editDetails(data)'><span><i class="fa fa-2x fa-pencil-square" data-toggle="modal" data-target="#myModal" aria-hidden="true"></i></span></td>
          <td ><span (click)='deleteDetails(data)'><i class="fa fa-2x fa-trash" aria-hidden="true"></i></span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" id="close-btn">&times;</button>
          
          <h4>User Information</h4>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-12 offset-md-2">
             
              <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
                  <input type="hidden"  class="form-control" name="id" [(ngModel)]="model.id" #id="ngModel"
                    />
                <div class="form-group">
                  <label for="email">Email Id:</label>
                  <input type="text" value='{{defaultUser}}' class="form-control" name="email" [(ngModel)]="model.user" #email="ngModel"
                    [ngClass]="{ 'is-invalid': f.submitted && email.invalid }" required />
                  <div *ngIf="f.submitted && email.invalid" class="invalid-feedback">
                    <div *ngIf="email.errors.required">Email is required</div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="amount">Amount</label>
                  <input type="text" class="form-control" name="amount" [(ngModel)]="model.amount" #amount="ngModel"
                    [ngClass]="{ 'is-invalid': f.submitted && amount.invalid }" required />
                  <div *ngIf="f.submitted && amount.invalid" class="invalid-feedback">
                    <div *ngIf="amount.errors.required">Amount is required</div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="currency">Currency</label>
                  <select class="form-control" [(ngModel)]="model.currency" name="currency"  #currency="ngModel">
                     
                    <option *ngFor="let currency of options" [ngValue]="currency">{{currency}}</option>
                  </select>
                  <div *ngIf="f.submitted && currency.invalid" class="invalid-feedback">
                    <div *ngIf="currency.errors.required">Currency is required</div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="date">Date</label>
                  <input type="date" class="form-control" name="date" id='date' [(ngModel)]="model.txn_date" #date="ngModel"
                    [ngClass]="{ 'is-invalid': f.submitted && date.invalid }" required minlength="6" />
                  <div *ngIf="f.submitted && date.invalid" class="invalid-feedback">
                    <div *ngIf="date.errors.required">Date is required</div>
                  </div>
                </div>
                <div class="form-group">
                  <button class="btn btn-primary" >Register</button>
                </div>
              </form>
            </div>
          </div>
          <!-- form to create new user ends -->
        </div>
      </div>
    </div>
  </div>
  <!-- modal -->

  <div id="snackbar1">User Details added Succesfully..</div>
  <div id="snackbar2">User Details Updated Succesfully..</div>
  <div id="snackbar3">User Details Deleted Succesfully..</div>

</div>
